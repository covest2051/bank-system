# Bank system 
## 1. Общая информация

Каждый микросервис выполняет строго определённые функции и взаимодействует с другими через REST API.  
Многоуровневая система микросервисов для управления клиентами, продуктами, счетами, картами и кредитами

Проект представляет собой банковскую систему, разработанную с использованием **Spring Boot 3** и **Java 21**, реализующую:

- регистрацию клиентов и управление продуктами;  
- обработку счетов, карт и транзакций;  
- кредитование с аннуитетными платежами;  
- межсервисное взаимодействие через **Kafka**;  
- мониторинг, логирование и кэширование с помощью **Spring AOP**;  
- аутентификацию и авторизацию через **JWT**.

Система реализует работу реального банковского ядра с продуктами:
**дебетовые и кредитные карты, накопительные счета, пенсионные программы, инвестиции, кредиты** и другие финансовые инструменты.
Каждый микросервис выполняет строго определённые функции и взаимодействует с другими через REST API.  
Многоуровневая система микросервисов для управления клиентами, продуктами, счетами, картами и кредитами


## 2. Архитектура системы

Система включает три микросервиса:

### 2.1. МС-1 (Client Processing)
Отвечает за управление пользователями, клиентами и их банковскими продуктами.  
**Основные функции:**
- Регистрация нового клиента с проверкой по чёрным спискам;
- Создание пользователя;
- Управление банковскими продуктами.


### 2.2. МС-2 (Account Processing)
Обрабатывает и хранит документы, связанные с пользователями.  
**Основные функции:**
- Слушает топики, в зависимости от типа полученного сообщения: 1) создаёт продукт, 2) выпускает карту, 3) обрабатывает транзакцию;
- Начисления и списания с баланса;
- Генерация графика платежей.


### 2.3. МС-3 (Credit Processing)
Обслуживание кредитных продуктов (IPO, PC, AC)
**Основные функции:**
- Слушает топик client_credit_products;
- Принимает решение о выдаче кредита по лимиту и истории просрочек;
- Создаёт кредитный продукт;
- Рассчитывает график аннуитетных платежей по формуле: A = S × [i × (1 + i)^n] / [(1 + i)^n - 1]


## 3. Логика взаимодействия

1. Микросервисы взаимодействуют через Kafka и HTTP (REST)

2. Аутентификация при HTTP-запросах — через JWT-токен

3. Каждый микросервис имеет собственную БД и набор миграций Flyway/Liquibase.


## 4. Технологический стек

- **Java 21**
- **Spring Boot 3**
- **Spring Cloud OpenFeign**
- **Maven**
- **Docker Compose**
- **Lombok**
- **MapStruct**
