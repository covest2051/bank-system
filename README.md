# Bank system 

## 1. Общая информация

Проект представляет собой распределённую систему, построенную на архитектуре микросервисов.  
Каждый микросервис выполняет строго определённые функции и взаимодействует с другими через REST API.  
Основная цель — демонстрация обмена пользовательскими данными между независимыми сервисами и организация централизованного получения информации через единый шлюз.

Система ориентирована на гибкость, масштабируемость и простоту интеграции.  
Любой сервис можно разворачивать, обновлять или заменять независимо от остальных.

---

## 2. Архитектура системы

Система включает три микросервиса:

### 2.1. МС-1 (Client Processing)
Отвечает за управление пользователями, клиентами и их банковскими продуктами.  
**Основные функции:**
- Регистрация нового клиента с проверкой по чёрным спискам;
- Создание пользователя;
- Управление банковскими продуктами.

---

### 2.2. МС-2 (Account Processing)
Обрабатывает и хранит документы, связанные с пользователями.  
**Основные функции:**
- Слушает топики, в зависимости от типа полученного сообщения: 1) создаёт продукт, 2) выпускает карту, 3) обрабатывает транзакцию;
- Начисления и списания с баланса;
- Генерация графика платежей.

---

### 2.3. МС-3 (Credit Processing)
Обслуживание кредитных продуктов (IPO, PC, AC)
**Основные функции:**
- Слушает топик client_credit_products;
- Принимает решение о выдаче кредита по лимиту и истории просрочек;
- Создаёт кредитный продукт;
- Рассчитывает график аннуитетных платежей по формуле: A = S × [i × (1 + i)^n] / [(1 + i)^n - 1]

---

## 3. Логика взаимодействия

1. Микросервисы взаимодействуют через Kafka и HTTP (REST)

2. Аутентификация при HTTP-запросах — через JWT-токен

3. Каждый микросервис имеет собственную БД и набор миграций Flyway/Liquibase.

---

## 4. Технологический стек

- **Java 21**
- **Spring Boot 3**
- **Spring Cloud OpenFeign**
- **Maven**
- **Docker Compose**
- **Lombok**
- **MapStruct**
